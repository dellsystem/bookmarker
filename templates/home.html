{% extends "base.html" %}

{% block nobreadcrumbs %}{% endblock %}

{% block content %}
{% if request.user.is_staff %}
<div class="ui stackable grid">
    <div class="eight wide column">
{% endif %}
        <div class="ui segment">
            <div class="ui four small statistics">
                <div class="statistic">
                    <div class="value">
                        {{ started_books.count }}
                    </div>
                    <div class="label">
                        <a href="#started_books">In progress</a>
                    </div>
                </div>
                <div class="statistic">
                    <div class="value">
                        {{ new_books.count }}
                    </div>
                    <div class="label">
                        <a href="#new_books">New</a>
                    </div>
                </div>
                <div class="statistic">
                    <div class="value">
                        {{ unread_books.count }}
                    </div>
                    <div class="label">
                        <a href="#unread_books">Unread</a>
                    </div>
                </div>
                <div class="statistic">
                    <div class="value">
                        {{ complete_books.count }}
                    </div>
                    <div class="label">
                        <a href="{% url 'view_complete' %}">Complete</a>
                    </div>
                </div>
            </div>
        </div>
        {% if request.user.is_staff %}
    </div>
    <div class="four wide column">
        <div class="ui segment">
            <form method="post" action="{% url 'add_author' %}">
                <div class="ui fluid labeled action input">
                    <div class="ui label">Author</div>
                    <input type="text" name="goodreads_id"
                           placeholder="GoodReads ID" />
                    <button type="submit" class="ui icon green button">
                        <i class="plus icon"></i>
                    </button>
                </div>
                {% csrf_token %}
            </form>
        </div>
    </div>
    <div class="four wide column">
        <div class="ui segment">
            <form method="post" action="{% url 'add_book' %}">
                <div class="ui fluid labeled action input">
                    <div class="ui label">Book</div>
                    <input type="text" name="goodreads_id"
                           placeholder="GoodReads ID" />
                    <button type="submit" class="ui icon green button">
                        <i class="plus icon"></i>
                    </button>
                </div>
                {% csrf_token %}
            </form>
        </div>
    </div>
</div>
{% endif %}
<br />
<h2 id="started_books">In progress</h2>
{% include 'book_list.html' with books=started_books only %}

<h2 id="new_books">New</h2>
{% include 'book_list.html' with books=new_books only %}

<h2 id="unread_books">Unread</h2>
{% include 'book_list.html' with books=unread_books only %}
{% endblock %}
